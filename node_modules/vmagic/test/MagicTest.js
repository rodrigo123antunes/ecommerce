/*jslint devel: true, node: true, indent: 4, unparam: true*/
'use strict';

const Magic = require("../src/Magic.js");
const FactoryController = require("../src/Controller/FactoryController.js");

class MagicTest {

    constructor() {
        this.magic = new Magic();
        this.factoryController = new FactoryController(this.magic.getApplication(), "test");
    }

    controllerTest(name) {
        const controllerInstance = this.factoryController.controller(name);
        if (typeof controllerInstance.beforeFilter !== "undefined") {
            controllerInstance.beforeFilter(() => true);
        }

        return controllerInstance;
    }

    modelTest(name) {
        return this.factoryController.model(name);
    }
}

module.exports = MagicTest;
